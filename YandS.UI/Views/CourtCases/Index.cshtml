@{
    ViewBag.Title = "Y & S Associates - Case List";
}
<style>
    .NewTitleBanner {
        background-color: #203864 !important;
        color: white !important;
    }

    .tableColorDarkRed {
        color: #c00000 !important;
    }
</style>
<script>
    var CreateMasterTableDetailURL = '@Url.Action("CreateMasterTableDetail", "CommonTask", new { area = string.Empty })';
    var CreateMasterTableDetailForPayToURL = '@Url.Action("CreateMasterTableDetailForPayTo", "CommonTask", new { area = string.Empty })';
    var GetIndexDataURL = '@Url.Action("AjaxIndexData", "CourtCases", new { area = string.Empty })';
    var GetClientClassificationURL = '@Url.Action("GetTab", "CourtCases", new { area = string.Empty })';
    var GetRegisterIdURL = '@Url.Action("GetRegisterId", "CommonTask", new { area = string.Empty })';
    var GetSessionRollURL = '@Url.Action("GetTab", "SessionRoll", new { area = string.Empty })';
    var DDLToAppend;
    var ValidationMessage = "";
    var NotValid = false;
    var DefendentTable;
    var CurrentCaseLevel = 0;
    var ClientClassification = 0;
    var ClientClassificationCode = "";

    var bkClientReply = "";
    var bkRequirements = "";
    var bkFirstEmailDate = "";

    var bkCourtFollow = "";
    var bkCourtFollow_LawyerId = "";
    var bkCourtFollowRequirement = "";
    var bkCommissioningDate = "";

    var GetTab = function (divToLoad, p_url, p_parameters) {
        divToLoad.empty();
        divToLoad.append("Loading...");

        $.ajax({
            url: p_url,
            type: "GET",
            data: p_parameters,
            success: function (data, textStatus, jqXHR) {
                $("#PartialViewContainerBoxCC").removeClass("AppHidden");
                $("#div_CurrentCaseLevel").removeClass("AppHidden");
                $("#div_ArabicData").removeClass("AppHidden");
                LoadPartialView(data, divToLoad);
            }
        });
    };
    function LoadPartialView(data, container) {
        console.log(container.attr("id"));
        container.empty();
        container.append("Loading...");
        container.html(data);
        $.fn.autoResize = function () {
            let r = e => {
                e.style.height = '';
                e.style.height = e.scrollHeight + 'px'
            };
            return this.each((i, e) => {
                e.style.overflow = 'hidden';
                r(e);
                $(e).bind('input', e => {
                    r(e.target);
                })
            })
        };
        if (container.attr("id") == "div_CaseLevelPartialView") {
            $("#DIV_UPDATE").removeClass("AppHidden");
            $("#div_CaseHistory").removeClass("AppHidden");
            $('textarea').autoResize();
        }
        else if (container.attr("id") == "PartialViewContainerCC") {
            ProcessClientCodeChange();
        }
        else if (container.attr("id") == "ENF_Modify_Detail") {
            if ($("#hidCurrentTableName").val() == "ENF-CONTRESULT") {
                $('html, body').animate({
                    scrollTop: $("#DIV_DEF_CONTACT").offset().top
                }, 700);
            }
            else {
                $('html, body').animate({
                    scrollTop: container.offset().top
                }, 200);
            }
        }
        else if (container.attr("id") == "TBR_Modify_Detail") {
            console.log("File Status :: " + $('#FileStatus').val());
            console.log("Case Id :: " + $("#HFCaseId").val());
            console.log("Case Registration Id :: " + $("#hidCaseRegistrationId").val());

            var skipFileStatus = ["1", "9", "11"];

            if (skipFileStatus.indexOf($("#FileStatus").val()) == -1) {
                if (!$.trim($("#DIV_REMARKS").html())) {
                    _parameters = { ClassificationId: "_TBR_REMARKS", Mode: $("#HFCaseId").val(), DefendentTransfer: "", CaseRegistrationId: $("#hidCaseRegistrationId").val() };
                    GetTab($("#DIV_REMARKS"), GetClientClassificationURL, _parameters);

                }
            }
        }
        else if (container.attr("id") == "DIV_REMARKS") {

        }
        else if (container.attr("id") == "TBR_CaseLevel_Detail") {
            $("#DIV_CaseLevel_Detail").removeClass("AppHidden");
            if (_PartialViewName == "TBR-REGISTERED_SUP") {
                $("#DIV_NEXT_HEARING_DATE").removeClass("AppHidden").addClass("AppHidden");
                $(".sessionDetail").removeClass("AppHidden").addClass("AppHidden");

            }
            else {
                $("#DIV_NEXT_HEARING_DATE").removeClass("AppHidden");
                $(".sessionDetail").removeClass("AppHidden");
                $('textarea').autoResize();

            }
        }
        else {
            if (container.length) {
                $('html, body').animate({
                    scrollTop: container.offset().top
                }, 200);
            }
        }
    }
    function ProcessAddMasterValue() {
        if ($("#MstDesc").val() != "") {
            var url = "";
            var _MstDesc = ""
            var _MstParentId = 0;
            var _Remarks = "";

            if (parseInt($("#MstParentId").val()) == 214) {
                url = CreateMasterTableDetailForPayToURL;
                _MstDesc = $("#MstDesc").val();
                _MstParentId = parseInt($("#MstParentId").val());
                _parameters = { Mst_Desc: _MstDesc, MstParentId: _MstParentId };

            }
            else if (parseInt($("#MstParentId").val()) == 7) {
                url = CreateMasterTableDetailURL;
                _MstDesc = $("#MstDesc").val();
                _MstParentId = 567;
                _Remarks = "1";
                _parameters = { Mst_Desc: _MstDesc, MstParentId: _MstParentId, Remarks: _Remarks };

            }
            else {
                url = CreateMasterTableDetailURL;
                _MstDesc = $("#MstDesc").val();
                _MstParentId = parseInt($("#MstParentId").val());
                _parameters = { Mst_Desc: _MstDesc, MstParentId: _MstParentId };

            }
            console.log(parseInt($("#MstParentId").val()));
            console.log($("#MstDesc").val());

            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                data: JSON.stringify(_parameters),
                url: url,
                success: function (Result) {

                    if (Result.Message == "Success") {
                        var newOption = new Option(Result.name, Result.id, true, true);
                        DDLToAppend.append(newOption).trigger('change');
                        $('#modal-AddMasterValue').modal('hide');

                    }
                    else {
                        $('#modal-AddMasterValue').modal('hide');
                        Swal.fire({
                            type: "error",
                            title: 'Error...',
                            html: Result.ErrorMessage
                        });
                    }
                }
            });
        }
        else {
            // Failed show errors
            console.log("Failed errors");
            Swal.fire({
                type: "error",
                title: 'Error...',
                html: 'Please Enter Description of List'
            });
        }
    }
    function AddMasterValue(ModalTitle, CtrlToAppend, ParentId) {
        console.log("ModalTitle ::" + ModalTitle);
        console.log("CtrlToAppend ::" + CtrlToAppend);

        DDLToAppend = $("#" + CtrlToAppend);
        $("#MstParentId").val(ParentId);

        $("#ModalTitle").text(ModalTitle);

        $('#modal-AddMaster').modal('show');

    }
    function processbtnLinkClick(_Mode, data, tableName) {

        if (_Mode == "D") {
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this! هل تريد حذف البيانات",
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.value) {

                    var form = $('#__AjaxAntiForgeryForm');
                    var token = $('input[name="__RequestVerificationToken"]', form).val();

                    $.ajax({
                        url: "/SessionRoll/Delete",
                        type: 'POST',
                        cache: false,
                        data: {
                            __RequestVerificationToken: token,
                            id: _SessionRollId
                        },
                        statusCode: {
                            401: function (response) {
                                alert(response);
                            }
                        },
                        success: function (result) {
                            if (result.redirectTo) {
                                Swal.fire(
                                    'Deleted!',
                                    'Your file has been deleted.',
                                    'success'
                                )
                                ReloadTable();
                            }
                            else {
                                //console.log(result);
                                var errorHtml = $('<div />').append(result).find('.content').html();
                                //console.log(errorHtml);
                                Swal.fire({
                                    type: 'error',
                                    title: 'Error deleting!',
                                    html: errorHtml,
                                    width: '50%'
                                    //grow: 'row'
                                });
                                //Swal.fire("Error deleting!", errorHtml, "error");

                            }
                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            Swal.fire("Error deleting!", "Please try again" + thrownError + "" + xhr.textStatus, "error");
                        }
                    });
                }
            });
        }
        else if (_Mode == "TD") {
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                type: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.value) {

                    var form = $('#__AjaxAntiForgeryForm');
                    var token = $('input[name="__RequestVerificationToken"]', form).val();

                    $.ajax({
                        url: "/CaseRegistration/Delete",
                        type: 'POST',
                        cache: false,
                        data: {
                            __RequestVerificationToken: token,
                            id: data.CaseRegistrationId
                        },
                        statusCode: {
                            401: function (response) {
                                alert(response);
                            }
                        },
                        success: function (result) {
                            if (result.redirectTo) {
                                Swal.fire(
                                    'Deleted!',
                                    'Your file has been deleted.',
                                    'success'
                                )
                                table.ajax.reload(function (json) {
                                    var info = table.page.info();
                                    var MCTRecords = table.ajax.json().MuscatTotal;
                                    var SLLRecords = table.ajax.json().SalalahTotal;
                                    var recordsTotal = table.ajax.json().recordsTotal;

                                    if ($("#txtUserRole").val() == "VoucherApproval") {
                                        $('#MCTTTL').text("MUSCAT : " + MCTRecords);
                                        $('#SLLTTL').text("SALALAH : " + SLLRecords);
                                        $('#TTL').text(recordsTotal);
                                    }
                                });
                            }
                            else {
                                //console.log(result);
                                var errorHtml = $('<div />').append(result).find('.content').html();
                                //console.log(errorHtml);
                                Swal.fire({
                                    type: 'error',
                                    title: 'Error deleting!',
                                    html: errorHtml,
                                    width: '50%'
                                    //grow: 'row'
                                });
                                //Swal.fire("Error deleting!", errorHtml, "error");

                            }
                        },
                        error: function (xhr, ajaxOptions, thrownError) {
                            Swal.fire("Error deleting!", "Please try again" + thrownError + "" + xhr.textStatus, "error");
                        }
                    });
                }
            });
        }
        else if (_Mode == "M") {
            var $CaseId = data.CaseId;
            var $OfficeFileNo = data.OfficeFileNo;
            var $DefendentTransferId = data.DefendentTransferId;

            $("#HFCaseId").val($CaseId);
            $("#hidDefendentTransferId").val($DefendentTransferId);
            $("#PV_OFFICE_FILE_NO").val($OfficeFileNo);

            //console.log(data.CaseId);
            //console.log($CaseId);
            //console.log($("#HFCaseId").val());

            //console.log(data.OfficeFileNo);
            //console.log($OfficeFileNo);
            //console.log($("#PV_OFFICE_FILE_NO").val());

            //console.log(data.DefendentTransferId);
            //console.log($DefendentTransferId);
            //console.log($("#hidDefendentTransferId").val());

            if (typeof tableName !== 'undefined')
                $("#hidCurrentTableName").val(tableName);

            var _PartialViewName = "_ENF_Modify";
            var PartialContainer = $("#ENF_ModificationContainer");
            _parameters = { ClassificationId: _PartialViewName, Mode: $CaseId };
            GetTab(PartialContainer, GetClientClassificationURL, _parameters);
        }
        else if (_Mode == "T") {
            CancelTBR();
            var $CaseId = data.CaseId;
            var $OfficeFileNo = data.OfficeFileNo;
            var $CaseRegistrationId = data.CaseRegistrationId;

            $("#HFCaseId").val($CaseId);
            $("#PV_OFFICE_FILE_NO").val($OfficeFileNo);
            $("#hidCaseRegistrationId").val($CaseRegistrationId);

            if (typeof tableName !== 'undefined')
                $("#hidCurrentTableName").val(tableName);

            var _PartialViewName = "_TBR_Modify";
            var PartialContainer = $("#TBR_ModificationContainer");
            _parameters = { ClassificationId: _PartialViewName, Mode: $("#HFCaseId").val(), DefendentTransfer: "", CaseRegistrationId: $CaseRegistrationId };
            GetTab(PartialContainer, GetClientClassificationURL, _parameters);
        }
        else {
            if (tableName == "ToBeRegister") {
                p_parameters = { "CaseId": parseInt(data.CaseId) };
                $.ajax({
                    url: GetRegisterIdURL,
                    type: "POST",
                    data: JSON.stringify(p_parameters),
                    contentType: "application/json; charset=utf-8",
                    dataType: 'json',
                    success: function (result) {
                        $.blockUI();
                        console.log(result);
                        console.log(result.CaseRegistrationId);
                        var RedirectURL = "/CaseRegistration/IndexMain/" + result.CaseRegistrationId;
                        window.location = RedirectURL;
                    }
                });
            }
            else {
                console.log($("#txtViewToLoad").val());
                console.log($("#txtViewContainer").val());

                console.log(data);

                var _PartialViewName = "_ModifyCase";
                var PartialContainer = $($("#txtViewContainer").val());

                if (_PartialViewName == "_ModifyCase") {
                    $(".navButton").each(function () {
                        var btnActiveClass = $(this).attr("id").split('_')[1] + "Active";
                        $(this).removeClass(btnActiveClass);
                    });
                    $("#spanCreateBtnText").text("");
                    $("#spanCreateBtnText").text("MODIFY CASE");
                    $("#txtViewToLoad").val("_ModifyCase");
                    $("#btn_CreateCase").addClass("CreateCaseActive");
                    _parameters = { ClassificationId: _PartialViewName, Mode: data.CaseId };
                }
                else
                    _parameters = { ClassificationId: _PartialViewName, Mode: "C" };

                GetTab(PartialContainer, GetClientClassificationURL, _parameters);
            }
        }
    }
    function process(date) {
        var parts = date.split("/");
        return new Date(parts[2], parts[1] - 1, parts[0]);
    }

    function ValidateBasic() {
        console.log("ValidateBasic()");

        if ($("#ReceiveLevelCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT RECEIVE LEVEL" : ValidationMessage + "<br />" + "PLEASE SELECT RECEIVE LEVEL";
            NotValid = true;
        }

        if ($("#ClientClassificationCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT CLASSIFICATION" : ValidationMessage + "<br />" + "PLEASE SELECT CLASSIFICATION";
            NotValid = true;
        }

        if ($("#ReceptionDate").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER RECEIVED DATE" : ValidationMessage + "<br />" + "PLEASE ENTER RECEIVED DATE";
            NotValid = true;
        }
        else {

            var today = new Date();

            var dd = String(today.getDate()).padStart(2, '0');
            var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
            var yyyy = today.getFullYear();

            today = dd + '/' + mm + '/' + yyyy;

            console.log(today);
            console.log($("#ReceptionDate").val());

            if (process($("#ReceptionDate").val()) > process(today)) {
                ValidationMessage = ValidationMessage == "" ? "RECEIVED DATE CANNOT BE GREATER THEN CURRENT DATE" : ValidationMessage + "<br />" + "RECEIVED DATE CANNOT BE GREATER THEN CURRENT DATE";
                NotValid = true;
            }
        }

        if ($("#CaseTypeCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT CASE TYPE" : ValidationMessage + "<br />" + "PLEASE SELECT CASE TYPE";
            NotValid = true;
        }

        if ($("#AgainstCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT AGAINST" : ValidationMessage + "<br />" + "PLEASE SELECT AGAINST";
            NotValid = true;
        }

        if ($("#ClientCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT CLIENT NAME" : ValidationMessage + "<br />" + "PLEASE SELECT CLIENT NAME";
            NotValid = true;
        }

        if ($("#Defendant").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER VALID DEFENDANT" : ValidationMessage + "<br />" + "PLEASE ENTER VALID DEFENDANT";
            NotValid = true;
        }


        if ($("#SessionClientId").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT ARABIC CLIENT" : ValidationMessage + "<br />" + "PLEASE SELECT ARABIC CLIENT";
            NotValid = true;
        }

        if ($("#SessionRollDefendentName").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER VALID ARABIC DEFENDANT" : ValidationMessage + "<br />" + "PLEASE ENTER VALID ARABIC DEFENDANT";
            NotValid = true;
        }


        if ($("#CaseLevelCode").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT CURRENT CASE LEVEL" : ValidationMessage + "<br />" + "PLEASE SELECT CURRENT CASE LEVEL";
            NotValid = true;
        }

        if ($('#AgainstCode').val() == "1") {
            if ($("#OmaniExp").val() == "0") {
                ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT NATIONALITY" : ValidationMessage + "<br />" + "PLEASE SELECT NATIONALITY";
                NotValid = true;
            }
        }

        if ($('#TransportationFee').val() == "1") {
            if ($("#TransportationSource").val() == "0") {
                ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT TRANSPORTATION SOURCE" : ValidationMessage + "<br />" + "PLEASE SELECT TRANSPORTATION SOURCE";
                NotValid = true;
            }
        }

        return NotValid;

    }
    function ValidateBank() {
        console.log("ValidateBank()");
        NotValid = false;

        return NotValid;
    }
    function ValidateFinance() {
        console.log("ValidateFinance()");

        //if ($("#OmaniExp").val() == "0") {
        //    ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT NATIONALITY" : ValidationMessage + "<br />" + "PLEASE SELECT NATIONALITY";
        //    NotValid = true;
        //}

        NotValid = false;

        return NotValid;
    }
    function ValidateRealEstate() {
        console.log("ValidateRealEstate()");

        NotValid = false;

        return NotValid;
    }
    function ValidatePrimary() {
        console.log("ValidatePrimary()");

        if ($("#CourtRefNo").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER PRIMARY NUMBER" : ValidationMessage + "<br />" + "PLEASE ENTER PRIMARY NUMBER";
            NotValid = true;
        }

        if ($("#RegistrationDate").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER REGISTRATION DATE" : ValidationMessage + "<br />" + "PLEASE ENTER REGISTRATION DATE";
            NotValid = true;
        }

        if ($("#CourtLocationid").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT COURT" : ValidationMessage + "<br />" + "PLEASE SELECT COURT";
            NotValid = true;
        }

        if ($("#GovernorateId").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT GOVERNORATE" : ValidationMessage + "<br />" + "PLEASE SELECT GOVERNORATE";
            NotValid = true;
        }

        return NotValid;
    }
    function ValidateAppeal() {
        console.log("ValidateAppeal()");

        if ($("#CourtRefNo").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER APPEAL NUMBER" : ValidationMessage + "<br />" + "PLEASE ENTER APPEAL NUMBER";
            NotValid = true;
        }

        if ($("#RegistrationDate").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER REGISTRATION DATE" : ValidationMessage + "<br />" + "PLEASE ENTER REGISTRATION DATE";
            NotValid = true;
        }


        if ($("#CourtLocationid").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT COURT" : ValidationMessage + "<br />" + "PLEASE SELECT COURT";
            NotValid = true;
        }

        if ($("#GovernorateId").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT GOVERNORATE" : ValidationMessage + "<br />" + "PLEASE SELECT GOVERNORATE";
            NotValid = true;
        }

        if ($("#ApealByWho").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT APPEAL BY" : ValidationMessage + "<br />" + "PLEASE SELECT APPEAL BY";
            NotValid = true;
        }

        return NotValid;
    }
    function ValidateSupreme() {
        console.log("ValidateSupreme()");

        if ($("#CourtRefNo").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER SUPREME NUMBER" : ValidationMessage + "<br />" + "PLEASE ENTER SUPREME NUMBER";
            NotValid = true;
        }

        if ($("#RegistrationDate").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER REGISTRATION DATE" : ValidationMessage + "<br />" + "PLEASE ENTER REGISTRATION DATE";
            NotValid = true;
        }


        if ($("#CourtLocationid").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT COURT" : ValidationMessage + "<br />" + "PLEASE SELECT COURT";
            NotValid = true;
        }

        if ($("#GovernorateId").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT GOVERNORATE" : ValidationMessage + "<br />" + "PLEASE SELECT GOVERNORATE";
            NotValid = true;
        }

        if ($("#ApealByWho").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT SUPREME BY" : ValidationMessage + "<br />" + "PLEASE SELECT SUPREME BY";
            NotValid = true;
        }

        return NotValid;
    }
    function ValidateEnforcement() {
        console.log("ValidateEnforcement()");

        if ($("#CourtRefNo").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER ENFORCEMENT NUMBER" : ValidationMessage + "<br />" + "PLEASE ENTER ENFORCEMENT NUMBER";
            NotValid = true;
        }

        if ($("#RegistrationDate").val() == "") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE ENTER REGISTRATION DATE" : ValidationMessage + "<br />" + "PLEASE ENTER REGISTRATION DATE";
            NotValid = true;
        }


        if ($("#CourtLocationid").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT COURT" : ValidationMessage + "<br />" + "PLEASE SELECT COURT";
            NotValid = true;
        }

        if ($("#GovernorateId").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT GOVERNORATE" : ValidationMessage + "<br />" + "PLEASE SELECT GOVERNORATE";
            NotValid = true;
        }

        if ($("#ApealByWho").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT ENFORCEMENT BY" : ValidationMessage + "<br />" + "PLEASE SELECT ENFORCEMENT BY";
            NotValid = true;
        }


        if (!$("input[name='RealEstateYesNo']:checked").val()) {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT REAL ESTATE DETAIL" : ValidationMessage + "<br />" + "PLEASE SELECT REAL ESTATE DETAIL";
            NotValid = true;
        }

        if ($("#AgainstInsurance").val() == "0") {
            ValidationMessage = ValidationMessage == "" ? "PLEASE SELECT AGAINST INSURANCE" : ValidationMessage + "<br />" + "PLEASE SELECT AGAINST INSURANCE";
            NotValid = true;
        }

        return NotValid;
    }
    //var AuctionProcessObj = {
    //    "data": [
    //        {
    //            "Mst_Value": 1,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 1,
    //            "From": 45,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 1,
    //            "From": 30,
    //            "To": 45,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 12,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 12,
    //            "From": 40,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 12,
    //            "From": 25,
    //            "To": 40,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 2,
    //            "From": 30,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 2,
    //            "From": 20,
    //            "To": 30,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 2,
    //            "From": 10,
    //            "To": 20,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 3,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 3,
    //            "From": 30,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 3,
    //            "From": 15,
    //            "To": 30,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 13,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 13,
    //            "From": 45,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 13,
    //            "From": 30,
    //            "To": 45,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 14,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 14,
    //            "From": 45,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 14,
    //            "From": 30,
    //            "To": 45,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 4,
    //            "From": 30,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 4,
    //            "From": 20,
    //            "To": 30,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 4,
    //            "From": 15,
    //            "To": 20,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 5,
    //            "From": 35,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 5,
    //            "From": 25,
    //            "To": 35,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 5,
    //            "From": 15,
    //            "To": 25,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 6,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 6,
    //            "From": 40,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 6,
    //            "From": 20,
    //            "To": 40,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 7,
    //            "From": 35,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 7,
    //            "From": 25,
    //            "To": 35,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 7,
    //            "From": 20,
    //            "To": 25,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 15,
    //            "From": 30,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 15,
    //            "From": 20,
    //            "To": 30,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 15,
    //            "From": 10,
    //            "To": 20,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 8,
    //            "From": 40,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 8,
    //            "From": 30,
    //            "To": 40,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 8,
    //            "From": 20,
    //            "To": 30,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 9,
    //            "From": 60,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 9,
    //            "From": 40,
    //            "To": 60,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 9,
    //            "From": 30,
    //            "To": 40,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 17,
    //            "From": 30,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 17,
    //            "From": 25,
    //            "To": 30,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 17,
    //            "From": 20,
    //            "To": 25,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 16,
    //            "From": 21,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 16,
    //            "From": 14,
    //            "To": 21,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 16,
    //            "From": 7,
    //            "To": 14,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 18,
    //            "From": 28,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 18,
    //            "From": 21,
    //            "To": 28,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 18,
    //            "From": 14,
    //            "To": 21,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 11,
    //            "From": 5,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 11,
    //            "From": 3,
    //            "To": 5,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 11,
    //            "From": 2,
    //            "To": 3,
    //            "ClassName": "tblThirdCondition"
    //        },
    //        {
    //            "Mst_Value": 19,
    //            "From": 30,
    //            "To": 999999,
    //            "ClassName": "tblFirstCondition"
    //        },
    //        {
    //            "Mst_Value": 19,
    //            "From": 20,
    //            "To": 30,
    //            "ClassName": "tblSecondCondition"
    //        },
    //        {
    //            "Mst_Value": 19,
    //            "From": 10,
    //            "To": 20,
    //            "ClassName": "tblThirdCondition"
    //        }
    //    ]
    //};

    var AuctionProcessObj = { "data": [{ "Mst_Value": 1, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 1, "From": 45, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 1, "From": 30, "To": 45, "ClassName": "tblThirdCondition" }, { "Mst_Value": 2, "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 2, "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "Mst_Value": 2, "From": 10, "To": 20, "ClassName": "tblThirdCondition" }, { "Mst_Value": 3, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 3, "From": 30, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 3, "From": 15, "To": 30, "ClassName": "tblThirdCondition" }, { "Mst_Value": 4, "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 4, "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "Mst_Value": 4, "From": 15, "To": 20, "ClassName": "tblThirdCondition" }, { "Mst_Value": 5, "From": 35, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 5, "From": 25, "To": 35, "ClassName": "tblSecondCondition" }, { "Mst_Value": 5, "From": 15, "To": 25, "ClassName": "tblThirdCondition" }, { "Mst_Value": 6, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 6, "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 6, "From": 20, "To": 40, "ClassName": "tblThirdCondition" }, { "Mst_Value": 7, "From": 35, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 7, "From": 25, "To": 35, "ClassName": "tblSecondCondition" }, { "Mst_Value": 7, "From": 20, "To": 25, "ClassName": "tblThirdCondition" }, { "Mst_Value": 8, "From": 40, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 8, "From": 30, "To": 40, "ClassName": "tblSecondCondition" }, { "Mst_Value": 8, "From": 20, "To": 30, "ClassName": "tblThirdCondition" }, { "Mst_Value": 9, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 9, "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 9, "From": 30, "To": 40, "ClassName": "tblThirdCondition" }, { "Mst_Value": 11, "From": 5, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 11, "From": 3, "To": 5, "ClassName": "tblSecondCondition" }, { "Mst_Value": 11, "From": 2, "To": 3, "ClassName": "tblThirdCondition" }, { "Mst_Value": 12, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 12, "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 12, "From": 25, "To": 40, "ClassName": "tblThirdCondition" }, { "Mst_Value": 13, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 13, "From": 45, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 13, "From": 30, "To": 45, "ClassName": "tblThirdCondition" }, { "Mst_Value": 14, "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 14, "From": 45, "To": 60, "ClassName": "tblSecondCondition" }, { "Mst_Value": 14, "From": 30, "To": 45, "ClassName": "tblThirdCondition" }, { "Mst_Value": 15, "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 15, "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "Mst_Value": 15, "From": 10, "To": 20, "ClassName": "tblThirdCondition" }, { "Mst_Value": 16, "From": 21, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 16, "From": 14, "To": 21, "ClassName": "tblSecondCondition" }, { "Mst_Value": 16, "From": 7, "To": 14, "ClassName": "tblThirdCondition" }, { "Mst_Value": 17, "From": 28, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 17, "From": 21, "To": 28, "ClassName": "tblSecondCondition" }, { "Mst_Value": 17, "From": 14, "To": 21, "ClassName": "tblThirdCondition" }, { "Mst_Value": 18, "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 18, "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "Mst_Value": 18, "From": 10, "To": 20, "ClassName": "tblThirdCondition" }, { "Mst_Value": 19, "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 19, "From": 25, "To": 30, "ClassName": "tblSecondCondition" }, { "Mst_Value": 19, "From": 20, "To": 25, "ClassName": "tblThirdCondition" }, { "Mst_Value": 20, "From": 100, "To": 999999, "ClassName": "tblFirstCondition" }, { "Mst_Value": 20, "From": 70, "To": 100, "ClassName": "tblSecondCondition" }, { "Mst_Value": 20, "From": 40, "To": 70, "ClassName": "tblThirdCondition" }] };
    var dtObjDataTable = { "data": [{ "dtTableName": "ENF-AGAINSUR", "From": 90, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-AGAINSUR", "From": 60, "To": 90, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-AGAINSUR", "From": 40, "To": 60, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-ANN", "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-ANN", "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-ANN", "From": 20, "To": 40, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-ARORD", "From": 120, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-ARORD", "From": 90, "To": 120, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-ARORD", "From": 70, "To": 90, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-ARREQ", "From": 50, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-ARREQ", "From": 30, "To": 50, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-ARREQ", "From": 15, "To": 30, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-COURTFOL", "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-COURTFOL", "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-COURTFOL", "From": "", "To": "", "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-DEFTRANS", "From": 90, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-DEFTRANS", "From": 60, "To": 90, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-DEFTRANS", "From": 30, "To": 60, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-INQ", "From": 120, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-INQ", "From": 90, "To": 120, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-INQ", "From": 60, "To": 90, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-ONLINEREG", "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-ONLINEREG", "From": 30, "To": 60, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-ONLINEREG", "From": 15, "To": 30, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-RECFRCOURT", "From": 100, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-RECFRCOURT", "From": 70, "To": 100, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-RECFRCOURT", "From": 40, "To": 70, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-SUSPEND", "From": "", "To": "", "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-SUSPEND", "From": "", "To": "", "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-SUSPEND", "From": "", "To": "", "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-FILEREV", "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-FILEREV", "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-FILEREV", "From": 20, "To": 40, "ClassName": "tblThirdCondition" }, { "dtTableName": "ENF-TOMJUDG", "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "ENF-TOMJUDG", "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "dtTableName": "ENF-TOMJUDG", "From": 20, "To": 40, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-NewCase", "From": 60, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-NewCase", "From": 40, "To": 60, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-NewCase", "From": 20, "To": 40, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-AppSubmissionY", "From": 11, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-AppSubmissionY", "From": 9, "To": 11, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-AppSubmissionY", "From": 5, "To": 9, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-AppSubmissionN", "From": 20, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-AppSubmissionN", "From": 15, "To": 20, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-AppSubmissionN", "From": 10, "To": 15, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-SupSubmission", "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-SupSubmission", "From": 25, "To": 30, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-SupSubmission", "From": 15, "To": 25, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-PriDispute", "From": 12, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-PriDispute", "From": 8, "To": 12, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-PriDispute", "From": 4, "To": 8, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-AplDispute", "From": 5, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-AplDispute", "From": 3, "To": 5, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-AplDispute", "From": 2, "To": 3, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-SupDispute", "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-SupDispute", "From": 25, "To": 30, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-SupDispute", "From": 15, "To": 25, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-TRansfer", "From": 22, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-TRansfer", "From": 14, "To": 22, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-TRansfer", "From": 7, "To": 14, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-LegalNotice", "From": 40, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-LegalNotice", "From": 20, "To": 40, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-LegalNotice", "From": 0, "To": 20, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-CompDocs", "From": 30, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-CompDocs", "From": 20, "To": 30, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-CompDocs", "From": 7, "To": 20, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-Translation", "From": 21, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-Translation", "From": 14, "To": 21, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-Translation", "From": 7, "To": 14, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-ClientApproval", "From": 24, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-ClientApproval", "From": 12, "To": 24, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-ClientApproval", "From": 7, "To": 12, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-Scanned", "From": 9, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-Scanned", "From": 5, "To": 9, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-Scanned", "From": 3, "To": 5, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-OnlineSubm", "From": 21, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-OnlineSubm", "From": 14, "To": 21, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-OnlineSubm", "From": 7, "To": 14, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-CourtRequest", "From": 2, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-CourtRequest", "From": 1, "To": 2, "ClassName": "tblThirdCondition" }, { "dtTableName": "TBR-Payment", "From": 2, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-Payment", "From": 1, "To": 2, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-WithLawyer", "From": 21, "To": 999999, "ClassName": "tblFirstCondition" }, { "dtTableName": "TBR-WithLawyer", "From": 14, "To": 21, "ClassName": "tblSecondCondition" }, { "dtTableName": "TBR-WithLawyer", "From": 7, "To": 14, "ClassName": "tblThirdCondition" }] };
    function GetAuctionClassName(p_Mst_Value, p_DaysPassed) {
        var result = $.grep(AuctionProcessObj.data, function (e) { return e.Mst_Value === p_Mst_Value && p_DaysPassed >= e.From && p_DaysPassed < e.To; });

        if (result && result.length == 1)
            return result[0].ClassName;
        else
            return "";
    }
    function ResetHiddenItems() {
        $("#hidRequirement").val("");
        $("#hidFirstEmailDate").val("");
        $("#hidNextHearingDate").val("");
        $("#hidCourtDecisionChange").val("");
        $("#hidCurrentHearingDate").val("");

        bkClientReply = "";
        bkRequirements = "";
        bkFirstEmailDate = "";

        bkCourtFollow = "";
        bkCourtFollow_LawyerId = "";
        bkCourtFollowRequirement = "";
        bkCommissioningDate = "";

        $("#selClientReplyYN").val("").trigger('change');
        $("#selCourtFollowYN").val("").trigger('change');
        $("#selUpdateDateYN").val("").trigger('change');
        $("#selNextHearingDateYN").val("").trigger('change');
    }
    function ValidateUpdateDate() {
        console.log("ValidateUpdateDate()");
        var NotValidUpdateDate = false;
        if ($("#hidCourtDecisionChange").val() == "Y") {
            var Msg = "لم تقم بتحديث التاريخ" + "<br />" + "PLEASE CHANGE THE DATE";

            if ($("#CurrentHearingDate").val() == "") {

                NotValidUpdateDate = true;
                ValidationMessage = ValidationMessage == "" ? Msg : ValidationMessage + "<br />" + Msg;
            }

            if ($("#CurrentHearingDate").val() == $("#hidCurrentHearingDate").val()) {

                NotValidUpdateDate = true;
                ValidationMessage = ValidationMessage == "" ? Msg : ValidationMessage + "<br />" + Msg;
            }
        }

        return NotValidUpdateDate;
    }
    function ValidateNextHearingDate() {
        console.log("ValidateNextHearingDate()");
        var NotValidNextHearingDate = false;
        if ($("#hidNextHearingDate").val() == "") {

        }
        else {
            var Msg = "الرجاء التأكد من تاريخ الجلسة القادمة" + "<br />" + "PLEASE CHECK SESSION DATE";

            var ValidDays = [0, 7, 14, 21, 28, 35, 42, 49, 54, 63, 70];
            var dtLastDate = moment(moment($("#hidNextHearingDate").val(), 'DD/MM/YYYY').format("YYYY-MM-DD"));
            var currDate = moment(moment($("#NextHearingDate").val(), 'DD/MM/YYYY').format("YYYY-MM-DD"));
            var result = currDate.diff(dtLastDate, 'days');

            console.log(dtLastDate);
            console.log(currDate);
            console.log(result);

            if (ValidDays.indexOf(result) == -1) {
                NotValidNextHearingDate = true;
                ValidationMessage = ValidationMessage == "" ? Msg : ValidationMessage + "<br />" + Msg;

            }
        }

        return NotValidNextHearingDate;
    }
    function GetdtClassName(p_TableName, p_DaysPassed) {
        if (p_DaysPassed && p_DaysPassed.length == 0)
            return "";

        var result = $.grep(dtObjDataTable.data, function (e) { return e.dtTableName.toUpperCase() === p_TableName.toUpperCase() && p_DaysPassed >= e.From && p_DaysPassed < e.To; });

        if (result && result.length == 1)
            return result[0].ClassName;
        else
            return "";
    }
    function ShowPreSubmit() {
        var IsShowCientReply = false; //DIV_WAITING_CLIENT_REPLY
        var IsShowCourtFollow = false; //DIV_WAITING_COURT_FOLLOW
        var IsShowUpdateDate = false; //DIV_CHANGE_UPDATE_DATE
        var IsShowNextHearing = false; //DIV_CHANGE_NEXT_HEARING_DATE
        var IsShowRequirement = false;
        var IsShowMemo = false;

        console.log('Updated On');
        console.log($('#UpdatedOn').val());

        console.log('hidUpdated On');
        console.log($('#hidUpdatedOn').val());

        $('#DIV_WAITING_CLIENT_REPLY').removeClass("AppHidden").addClass("AppHidden");
        $('#DIV_WAITING_COURT_FOLLOW').removeClass("AppHidden").addClass("AppHidden");
        $('#DIV_CHANGE_UPDATE_DATE').removeClass("AppHidden").addClass("AppHidden");
        $('#DIV_CHANGE_NEXT_HEARING_DATE').removeClass("AppHidden").addClass("AppHidden");

        IsShowUpdateDate = ValidateUpdateDate();
        IsShowNextHearing = ValidateNextHearingDate();

        if ($('#ClientReply').val() == "1") {
            if (bkClientReply == "1") {
                if ($('#selClientReplyYN').val() == "") {
                    var dtLastDate = moment(moment($('#hidUpdatedOn').val(), 'DD/MM/YYYY HH:mm:ss').add(11, 'hours').format("YYYY-MM-DD HH:mm:ss"));
                    var currDate = moment(moment(new Date()).format("YYYY-MM-DD HH:mm:ss"));

                    var duration = moment.duration(currDate.diff(dtLastDate));
                    var hours = duration.asHours();
                    //console.log(hours);

                    if (hours > 48) {
                        IsShowCientReply = true;
                        $('#DIV_WAITING_CLIENT_REPLY').removeClass("AppHidden");
                    }
                }
                else {
                    if ($('#selClientReplyYN').val() == "N") {
                        $("#ClientReply").val("").trigger('change');
                        $("#Requirements").val("");
                        $("#FirstEmailDate").val("");
                    }
                    else {
                        $("#ClientReply").val(bkClientReply).trigger('change');
                        $("#Requirements").val(bkRequirements);
                        //$("#FirstEmailDate").val(bkFirstEmailDate);
                        $("#FirstEmailDate").datepicker("setDate", bkFirstEmailDate);

                    }
                }
            }
        }

        if ($('#CourtFollow').val() == "1") {
            if (bkCourtFollow == "1") {
                if ($('#selCourtFollowYN').val() == "") {
                    var dtLastDate = moment(moment($('#hidUpdatedOn').val(), 'DD/MM/YYYY HH:mm:ss').add(11, 'hours').format("YYYY-MM-DD HH:mm:ss"));
                    var currDate = moment(moment(new Date()).format("YYYY-MM-DD HH:mm:ss"));

                    var duration = moment.duration(currDate.diff(dtLastDate));
                    var hours = duration.asHours();
                    //console.log(hours);

                    if (hours > 48) {
                        IsShowCourtFollow = true;
                        $('#DIV_WAITING_COURT_FOLLOW').removeClass("AppHidden");
                    }
                }
                else {
                    if ($('#selCourtFollowYN').val() == "N") {
                        $("#CourtFollow").val("").trigger('change');
                        $("#CourtFollow_LawyerId").val("0").trigger('change');
                        $("#CourtFollowRequirement").val("");
                        $("#CommissioningDate").val("");
                    }
                    else {
                        $("#CourtFollow").val(bkCourtFollow).trigger('change');
                        $("#CourtFollow_LawyerId").val(bkCourtFollow_LawyerId).trigger('change');
                        $("#CourtFollowRequirement").val(bkCourtFollowRequirement);
                        //$("#CommissioningDate").val(bkCommissioningDate);
                        $("#CommissioningDate").datepicker("setDate", bkCommissioningDate);

                    }
                }
            }
        }

        if (IsShowUpdateDate) {
            $('#DIV_CHANGE_UPDATE_DATE').removeClass("AppHidden");
        }

        if (IsShowNextHearing) {
            $('#DIV_CHANGE_NEXT_HEARING_DATE').removeClass("AppHidden");
        }

        if (IsShowCientReply) {

            var SelValue = $('#selClientReplyYN').val();
            if (SelValue.length == 0) {
                $('#modal-preSubmit').modal('show');
                return false;
            }
        }

        if (IsShowCourtFollow) {

            var SelValue = $('#selCourtFollowYN').val();
            if (SelValue.length == 0) {
                $('#modal-preSubmit').modal('show');
                return false;
            }
        }

        if (IsShowUpdateDate) {

            var SelValue = $('#selUpdateDateYN').val();
            if (SelValue.length == 0) {
                $('#modal-preSubmit').modal('show');
                return false;
            }
        }

        if (IsShowNextHearing) {

            var SelValue = $('#selNextHearingDateYN').val();
            if (SelValue.length == 0) {
                $('#modal-preSubmit').modal('show');
                return false;
            }
        }
        $('#modal-preSubmit').modal('hide');
        submitForm();
    }
    function FormatAccount_ClientFileNo(row) {
        var DataToDisplay = "";
        if (row.AccountContractNo && row.ClientFileNo) {
            if (row.AccountContractNo.length > 40) {
                DataToDisplay = row.AccountContractNo.replace(/\W+/g, " ") + "<br />" + "<span class='emphasized'>" + row.ClientFileNo + "</span>";
                return "<div class='text-wrap'>" + DataToDisplay + "</div>";
            }
            else {
                DataToDisplay = row.AccountContractNo + "<br />" + "<span class='emphasized'>" + row.ClientFileNo + "</span>";
                return "<div class='text-wrap'>" + DataToDisplay + "</div>";
            }
        }
        else if (row.AccountContractNo && row.ClientFileNo == null) {
            if (row.AccountContractNo.length > 40) {
                DataToDisplay = row.AccountContractNo.replace(/\W+/g, " ");
                return "<div class='text-wrap'>" + DataToDisplay + "</div>";
            }
            else {
                DataToDisplay = row.AccountContractNo;
                return "<div class='text-wrap'>" + DataToDisplay + "</div>";
            }
        }
        else if (row.AccountContractNo == null && row.ClientFileNo) {
            DataToDisplay = "<span class='emphasized'>" + row.ClientFileNo + "</span>";
            return "<div class='text-wrap'>" + DataToDisplay + "</div>";
        }

        return DataToDisplay;
    }

</script>
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-3 text-center">
                    <h1>MANAGE FILE DATA</h1>
                </div>
                @if (User.IsInRole("VoucherApproval"))
                {
                    <div class="col-sm-1"></div>
                    <div style="color: black !important;padding-top:10px;" class="col-sm-3 text-center">
                        <div class="form-group clearfix">
                            <div class="icheck-primary d-inline">
                                <input type="radio" id="radioPrimary1" value="A" name="rdoLocation" @ViewBag.LocationCheckALL>
                                <label for="radioPrimary1"> ALL </label>
                            </div>
                            <div class="icheck-primary d-inline">
                                <input type="radio" id="radioPrimary2" value="M" name="rdoLocation" @ViewBag.VoucherApproval>
                                <label for="radioPrimary2"> MUSCAT </label>
                            </div>
                            <div class="icheck-primary d-inline">
                                <input type="radio" id="radioPrimary3" value="S" name="rdoLocation">
                                <label for="radioPrimary3"> SALALAH </label>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-1"></div>
                }
                else
                {
                    <div class="col-sm-5 text-center">

                    </div>

                }
                <div class="col-sm-4">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item">COURT CASE</li>
                        <li class="breadcrumb-item active"><a href="#">COURT CASES MAIN</a></li>
                    </ol>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="card card-primary card-outline">
            <div class="card-header">
                <h3 class="card-title">LIST OF COURT CASES</h3>

                @*<div class="card-tools">
                        <button style="width:200px;" title="CREATE CASE" class="btn btn-success btn-lg" onclick="location.href='@Url.Action("Create", "CourtCases")';return false;">  CREATE CASE</button>
                    </div>*@
            </div>
            <div class="card-body">
                <div id="div_courtCasesMailButton" style="padding-bottom:10px;" class="col-sm-12">
                    <div class="row">
                        <div class="col">
                            <button type="button" id="btn_CreateCase" style="font-size: 1.2rem !important;" class="btn btn-block CreateCase @ViewBag.CreateCaseActive btn-lg navButton"><span id="spanCreateBtnText">@ViewBag.CreateBtnText</span></button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_General" style="font-size: 1.2rem !important;" class="btn btn-block General @ViewBag.GeneralActive btn-lg navButton">GENERAL</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_BeforeCourt" style="font-size: 1.2rem !important;" class="btn btn-block BeforeCourt @ViewBag.BeforeCourtActive btn-lg navButton">BEFORE COURT</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_TobeRegister" style="font-size: 1.2rem !important;" class="btn btn-block TobeRegister @ViewBag.TobeRegisterActive btn-lg navButton">TO BE REGISTER</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_Primary" style="font-size: 1.2rem !important;" class="btn btn-block Primary @ViewBag.PrimaryActive btn-lg navButton">PRIMARY</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_Appeal" style="font-size: 1.2rem !important;" class="btn btn-block Appeal @ViewBag.AppealActive btn-lg navButton">APPEAL</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_Supreme" style="font-size: 1.2rem !important;" class="btn btn-block Supreme @ViewBag.SupremeActive btn-lg navButton">SUPREME</button>
                        </div>
                        <div class="col">
                            <button type="button" id="btn_Enforcement" style="font-size: 1.2rem !important;" class="btn btn-block Enforcement @ViewBag.EnforcementActive btn-lg navButton">ENFORCEMENT</button>
                        </div>
                    </div>
                </div>
                <div style="padding-top:10px;" class="row">
                    <div class="col-sm-12">
                        <div id="PartialViewContainer" class="clsPVContainer">

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div style="padding-bottom:10px;padding-top:10px;" class="col-sm-12">
                        <div id="ENF_PartialViewContainer" class="clsPVContainer">

                        </div>
                    </div>
                    <div style="padding-bottom:10px;padding-top:10px;" class="col-sm-12">
                        <div id="ENF_ModificationContainer" class="clsPVContainer">

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div style="padding-bottom:10px;padding-top:10px;" class="col-sm-12">
                        <div id="TBR_PartialViewContainer" class="clsPVContainer">

                        </div>
                    </div>
                    <div style="padding-bottom:10px;padding-top:10px;" class="col-sm-12">
                        <div id="TBR_ModificationContainer" class="clsPVContainer">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <input type="hidden" id="txtUserRole" value="@ViewBag.UserRole" />
    <input type="hidden" id="txtDataFor" value="@ViewBag.DataFor" />
    <input type="hidden" id="txtLocationId" value="@ViewBag.LocationId" />
    <input type="hidden" id="txtViewContainer" value="@ViewBag.ViewContainer" />
    <input type="hidden" id="txtViewToLoad" value="@ViewBag.ViewToLoad" />
    <input type="hidden" id="HFCaseId" value="@ViewBag.HFCaseId" />
    <input type="hidden" id="hidIsCourtFollow" value="@ViewBag.hidIsCourtFollow" />
    <input type="hidden" id="hidIsClientReply" value="@ViewBag.hidIsClientReply" />
    <input type="hidden" id="hidIsAgainstClient" value="N" />
    <input type="hidden" id="hidRequirement" value="" />
    <input type="hidden" id="hidFirstEmailDate" value="" />
    <input type="hidden" id="hidCurrentTableName" value="" />
    <input type="hidden" id="PV_OFFICE_FILE_NO" value="@ViewBag.OfficeFileNo" />
    <input type="hidden" id="hidNextHearingDate" value="" />
    <input type="hidden" id="hidCurrentHearingDate" value="" />
    <input type="hidden" id="hidCourtDecisionChange" value="" />
    <input type="hidden" id="hidDefendentTransferId" value="" />
    <input type="hidden" id="hidActionLevel" value="" />
    <input type="hidden" id="hidDisputeLevel" value="" />
    <input type="hidden" id="hidUserName" value="@User.Identity.Name" />
    @if (User.IsInRole("TBRRemarks"))
    {
        <input type="hidden" id="hidTBRRemarks" value="Y" />
    }
    else
    {
        <input type="hidden" id="hidTBRRemarks" value="N" />
    }

    @if (User.IsInRole("VoucherApproval") || User.Identity.Name.Equals("6"))
    {
        <input type="hidden" id="hidTBRPayVoucher" value="Y" />
    }
    else
    {
        <input type="hidden" id="hidTBRPayVoucher" value="N" />
    }
    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
    {
        @Html.AntiForgeryToken()
    }
</div>
<div class="modal fade" id="modal-PVForm">
    <div class="modal-dialog modal-xl">
        <div class="modal-content bg-gradient-light">
            <div id="modalPVFormoverlay" class="overlay">
                <i class="fas fa-2x fa-sync fa-spin"></i>
            </div>
            <div class="modal-header">
                <h4 class="modal-title"><span>ADD PAYMENT VOUCHER</span></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="PVCreateForm"></div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<div class="modal fade" id="modal-AddMaster">
    <div class="modal-dialog">
        <div class="modal-content bg-gradient-light">
            <div class="modal-header">
                <h4 class="modal-title"><span id="ModalTitle">Add Client</span></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="MstParentId" class="form-control" value="@ViewBag.MstParentId" />
                <input type="text" id="MstDesc" class="form-control" placeholder="Enter New Description" />
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
                <button type="button" onclick="ProcessAddMasterValue()" class="btn btn-outline-dark">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<div class="modal fade" id="modal-preSubmit">
    <div class="modal-dialog">
        <div class="modal-content bg-gradient-light">
            <div class="modal-header">
                <h4 class="modal-title"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="DIV_WAITING_CLIENT_REPLY" class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label dir="auto" for="selClientReplyYN">ARE YOU WAITING FOR CLIENT REPLY?<br /><span>؟</span>(CLIENT REPLY)&nbsp;<span>هل تنتظر رد الموكل</span></label>
                            <select class="form-control select2bs4" id="selClientReplyYN">
                                <option value="">PLEASE SELECT</option>
                                <option value="N">لا NO</option>
                                <option value="Y">نعم YES</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="DIV_WAITING_COURT_FOLLOW" class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label dir="auto" for="selCourtFollowYN">هل تنتظر مراجعة المحكمة ؟</label>
                            <select class="form-control select2bs4" id="selCourtFollowYN">
                                <option value="">PLEASE SELECT</option>
                                <option value="N">لا NO</option>
                                <option value="Y">نعم YES</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="DIV_CHANGE_UPDATE_DATE" class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label dir="auto" for="selUpdateDateYN">أنت لم تقم بتغيير تاريخ التحديث (تاريخ الجلسة)؟</label>
                            <select class="form-control select2bs4" id="selUpdateDateYN">
                                <option value="">PLEASE SELECT</option>
                                <option value="N">حفظ بدون تغيير CONTUNUE</option>
                                <option value="Y">تغييرالتاريخ والحفظ CHANGE</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="DIV_CHANGE_NEXT_HEARING_DATE" class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label dir="auto" for="selNextHearingDateYN">الرجاء التأكد من تاريخ الجلسة القادمة</label>
                            <select class="form-control select2bs4" id="selNextHearingDateYN">
                                <option value="">PLEASE SELECT</option>
                                <option value="N">BACK عودة</option>
                                <option value="Y">SAVE حفظ</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal">Close</button>
                <button type="button" onclick="ShowPreSubmit()" class="btn btn-outline-dark">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
@section pagespecific {
    <script type="text/javascript">
        $(document).ready(function () {
            console.log("Ajax Index CourtCases Document Page");
            var _parameters = "";
            var bootstrapTooltip = $.fn.tooltip.noConflict();
            $.fn.bstooltip = bootstrapTooltip;
            $.fn.autoResize = function () {
                let r = e => {
                    e.style.height = '';
                    e.style.height = e.scrollHeight + 'px'
                };
                return this.each((i, e) => {
                    e.style.overflow = 'hidden';
                    r(e);
                    $(e).bind('input', e => {
                        r(e.target);
                    })
                })
            };
            var _PartialViewName = $("#txtViewToLoad").val();
            //var PartialContainer = $("#PartialViewContainer");
            var PartialContainer = $($("#txtViewContainer").val());

            if (_PartialViewName == "_ModifyCase")
                _parameters = { ClassificationId: _PartialViewName, Mode: $('#HFCaseId').val() };
            else
                _parameters = { ClassificationId: _PartialViewName, Mode: "C" };

            GetTab(PartialContainer, GetClientClassificationURL, _parameters);

            $('.navButton').click(function () {
                ResetHiddenItems();
                $(".clsPVContainer").empty();
                $("#spanCreateBtnText").text("");
                $("#spanCreateBtnText").text("CREATE CASE");
                $(".navButton").each(function () {
                    var btnActiveClass = $(this).attr("id").split('_')[1] + "Active";
                    $(this).removeClass(btnActiveClass);
                });

                var btnClickedId = $(this).attr("id");
                var btnClickedClass = $(this).attr("id").split('_')[1];
                var btnClickedActiveClass = $(this).attr("id").split('_')[1] + "Active";

                $("#txtViewToLoad").val("_" + btnClickedClass);

                $(this).addClass(btnClickedActiveClass);

                console.log("Partial View Tobe Load :: " + $("#txtViewToLoad").val());
                console.log("View Container :: " + $("#txtViewContainer").val());

                _PartialViewName = $("#txtViewToLoad").val();
                PartialContainer = $($("#txtViewContainer").val());

                if ($(this).attr("id") == "btn_CreateCase") {
                    $("#HFCaseId").val("0");
                }


                _parameters = { ClassificationId: _PartialViewName, Mode: "C" };
                GetTab(PartialContainer, GetClientClassificationURL, _parameters);

                if ($(this).attr("id") == "btn_TobeRegister" || $(this).attr("id") == "btn_Enforcement") {
                    $("#div_courtCasesMailButton").hide();
                }

            });

            $('.modal').on('hidden.bs.modal', function (event) {
                $(this).removeClass('fv-modal-stack');
                $('body').data('fv_open_modals', $('body').data('fv_open_modals') - 1);
            });

            $('.modal').on('shown.bs.modal', function (event) {
                $("#MstDesc").val("");
                // keep track of the number of open modals
                if (typeof ($('body').data('fv_open_modals')) == 'undefined') {
                    $('body').data('fv_open_modals', 0);
                }

                // if the z-index of this modal has been set, ignore.
                if ($(this).hasClass('fv-modal-stack')) {
                    return;
                }

                $(this).addClass('fv-modal-stack');
                $('body').data('fv_open_modals', $('body').data('fv_open_modals') + 1);
                $(this).css('z-index', 1040 + (10 * $('body').data('fv_open_modals')));
                $('.modal-backdrop').not('.fv-modal-stack').css('z-index', 1039 + (10 * $('body').data('fv_open_modals')));
                $('.modal-backdrop').not('fv-modal-stack').addClass('fv-modal-stack');

            });

            $('input[type=radio][name=rdoLocation]').change(function () {
                table.ajax.reload(function (json) {
                    var info = table.page.info();
                    var MCTRecords = table.ajax.json().MuscatTotal;
                    var SLLRecords = table.ajax.json().SalalahTotal;
                    var recordsTotal = table.ajax.json().recordsTotal;

                    if ($("#txtUserRole").val() == "VoucherApproval") {
                        $('#MCTTTL').text("MUSCAT : " + MCTRecords);
                        $('#SLLTTL').text("SALALAH : " + SLLRecords);
                        $('#TTL').text(recordsTotal);
                    }
                });

                if ($("#hidCurrentTableName").val() == "ENF-DEFTRANS") {
                    table2.ajax.reload(function (json) {
                        var info = table2.page.info();
                        var MCTRecords = table2.ajax.json().MuscatTotal;
                        var SLLRecords = table2.ajax.json().SalalahTotal;
                        var recordsTotal = table2.ajax.json().recordsTotal;

                        if ($("#txtUserRole").val() == "VoucherApproval") {
                            $('#MCTTTL2').text("MUSCAT : " + MCTRecords);
                            $('#SLLTTL2').text("SALALAH : " + SLLRecords);
                            $('#TTL2').text(recordsTotal);
                        }
                    });
                }
            });

            $('#selUpdateDateYN').on("change", function () {
                if ($('#selUpdateDateYN').val() == "Y") {
                    $('#modal-preSubmit').modal('hide');
                }
                else if ($('#selUpdateDateYN').val() == "N") {
                    $("#CurrentHearingDate").datepicker("setDate", new Date).datepicker({
                        format: 'dd/mm/yyyy',
                        autoclose: true
                    });
                }
            });

            $('#selNextHearingDateYN').on("change", function () {
                if ($('#selNextHearingDateYN').val() == "N") {
                    $('#modal-preSubmit').modal('hide');
                }
            });
        });
    </script>
}